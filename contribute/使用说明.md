# OpenBook 显卡资源预约系统 - 使用说明

## 项目概述

OpenBook 是一个完整的显卡资源预约与管理系统，提供了直观的用户界面和完整的预约管理功能。

## 主要功能特性

### 🔐 用户认证
- **OAuth 登录**: 模拟标准 OAuth 认证流程
- **安全性**: 用户身份验证和会话管理
- **用户信息**: 显示当前登录用户信息

### 📅 可视化日历
- **周视图**: 以周为单位显示资源使用情况
- **时间段**: 8:00-22:00 的工作时间显示
- **状态标识**: 不同颜色标识资源状态
  - 🟢 **绿色**: 可用时间段
  - 🔴 **红色**: 已被其他用户预约
  - 🟠 **橙色**: 正在使用中
  - 🔵 **蓝色**: 我的预约

### 🖱️ 拖拽式预约
- **直观操作**: 鼠标拖拽选择时间段
- **智能选择**: 同一天内连续时间段选择
- **即时反馈**: 选择区域实时高亮显示
- **确认窗口**: 自动弹出预约确认对话框

### ⚙️ 预约管理

#### 📋 预约状态分类
1. **未开始** (upcoming): 预约时间尚未到达
2. **进行中** (active): 当前正在使用的预约
3. **已完成** (completed): 已结束的预约

#### 🗑️ 取消预约
- **条件**: 仅限未开始的预约
- **操作**: 一键删除，时间段立即释放
- **确认**: 防误操作的确认提示

#### 🔓 释放资源
- **条件**: 正在进行中的预约
- **功能**: 提前结束预约，释放剩余时间
- **实时更新**: 立即更新日历显示

#### ⏰ 延长预约
- **条件**: 正在进行中的预约
- **选项**: 1-4小时的延长选择
- **冲突检测**: 自动检查时间冲突
- **权限控制**: 基于用户组的延长时间限制

## 🖥️ 技术实现

### 前端架构
- **HTML5**: 语义化标记和现代Web标准
- **CSS3**: 响应式设计和现代样式
  - CSS Grid 和 Flexbox 布局
  - 渐变背景和毛玻璃效果
  - 平滑动画和过渡效果
- **JavaScript ES6+**: 面向对象编程
  - 类和模块化设计
  - 事件驱动架构
  - 本地存储管理

### 数据管理
- **LocalStorage**: 本地数据持久化
- **JSON**: 数据序列化和反序列化
- **状态管理**: 集中式应用状态管理

### 用户体验
- **响应式设计**: 支持桌面端和移动端
- **交互反馈**: 实时状态更新和操作反馈
- **无障碍支持**: 键盘导航和屏幕阅读器友好

## 📱 使用流程

### 1. 系统登录
1. 访问系统首页
2. 点击 "通过 OAuth 登录" 按钮
3. 等待认证完成（模拟1.5秒）
4. 自动跳转到主控制面板

### 2. 查看预约
- **主页面**: 显示个人预约列表
- **状态标识**: 清晰的预约状态显示
- **详细信息**: 任务名称、资源、时间等

### 3. 创建预约
1. 点击 "去预约" 按钮进入日历页面
2. 使用鼠标拖拽选择所需时间段
3. 在弹出窗口中填写任务名称
4. 确认预约信息并提交

### 4. 管理预约
1. 在日历中点击自己的预约
2. 根据预约状态选择操作：
   - **未开始**: 可以删除预约
   - **进行中**: 可以释放剩余时间或延长预约

### 5. 周切换
- 使用 "上周"/"下周" 按钮浏览不同时间段
- 当前周范围显示在日历顶部

## 🎨 界面设计特色

### 视觉设计
- **现代化UI**: 采用Material Design设计原则
- **渐变背景**: 紫色渐变营造科技感
- **卡片布局**: 信息分组清晰
- **图标系统**: FontAwesome图标增强可读性

### 交互设计
- **hover效果**: 按钮和卡片的悬停反馈
- **动画过渡**: 页面切换和状态变化的平滑动画
- **加载状态**: OAuth登录过程的加载动画
- **消息提示**: 操作成功的Toast消息

### 响应式适配
- **移动端优化**: 触摸友好的界面设计
- **断点设计**: 768px和480px断点适配
- **灵活布局**: Grid和Flexbox的弹性布局

## 🔧 技术特性

### 数据结构
```javascript
// 预约对象结构
{
  id: string,           // 唯一标识符
  userId: string,       // 用户ID
  resource: string,     // 资源名称(GPU-01, GPU-02等)
  taskName: string,     // 任务名称
  startTime: Date,      // 开始时间
  endTime: Date,        // 结束时间
  status: string        // 状态(upcoming/active/completed)
}
```

### 核心算法
- **时间冲突检测**: 智能检测预约时间冲突
- **状态计算**: 实时计算预约状态
- **资源分配**: 自动选择可用GPU资源
- **拖拽逻辑**: 时间段选择和验证

### 性能优化
- **事件委托**: 高效的事件处理
- **DOM缓存**: 减少DOM查询
- **内存管理**: 及时清理事件监听器
- **数据缓存**: LocalStorage缓存用户数据

## 🚀 部署说明

### 直接运行
1. 下载所有文件到本地目录
2. 使用现代浏览器打开 `index.html`
3. 开始使用系统

### Web服务器部署
1. 将文件上传到Web服务器
2. 配置静态文件服务
3. 确保支持HTML5 History API（如需要）

### 扩展建议
- **后端集成**: 连接真实的用户认证和数据库
- **实时通信**: WebSocket实时更新预约状态
- **权限系统**: 更复杂的用户权限管理
- **监控告警**: 资源使用情况监控

## 📊 示例数据

系统内置了示例预约数据：
- 用户自己的未来预约
- 其他用户的预约（显示为已占用）
- 正在进行的预约示例

这些数据帮助展示系统的完整功能和不同状态下的用户界面。
